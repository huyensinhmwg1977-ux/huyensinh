<!doctype html>
<html lang="vi" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>H√†nh Tr√¨nh Tri Th·ª©c Python</title>
  <style>
        body { box-sizing: border-box; overscroll-behavior: none; }
        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        html, body { height: 100%; overflow: hidden; width: 100%; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            display: flex; flex-direction: column; user-select: none;
        }

        /* --- HI·ªÜU ·ª®NG & LOGIN --- */
        .particle {
            position: absolute; width: 10px; height: 10px; border-radius: 50%;
            pointer-events: none; z-index: 9999; animation: explode 0.8s ease-out forwards;
            box-shadow: 0 0 10px currentColor;
        }
        @keyframes explode {
            0% { transform: translate(0, 0) scale(1.5); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
        }

        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(8px);
            z-index: 999; display: flex; justify-content: center; align-items: center; padding: 20px;
        }
        .login-card {
            background: white; padding: 30px 20px; border-radius: 20px;
            box-shadow: 0 0 50px rgba(243, 156, 18, 0.5); text-align: center;
            max-width: 400px; width: 100%; border: 4px solid #f39c12; animation: popIn 0.5s ease-out;
        }
        @keyframes popIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        .login-title { font-size: 1.8em; color: #2c3e50; margin-bottom: 10px; font-weight: bold; }
        .input-name {
            width: 100%; padding: 12px; margin-bottom: 20px; border: 2px solid #ddd;
            border-radius: 10px; font-size: 1.1em; outline: none; text-align: center;
        }
        .input-name:focus { border-color: #f39c12; }
        .btn-start {
            background: #2ecc71; color: white; border: none; padding: 12px 30px;
            font-size: 1.2em; border-radius: 50px; cursor: pointer; font-weight: bold;
            width: 100%; box-shadow: 0 5px 0 #27ae60;
        }
        .btn-start:active { transform: translateY(3px); box-shadow: 0 2px 0 #27ae60; }

        /* --- GAME STAGE --- */
        #game-wrapper { display: none; height: 100%; flex-direction: column; width: 100%; }
        #game-wrapper.active { display: flex; }

        .stage-area {
            position: relative; flex: 1; width: 100%;
            background: linear-gradient(180deg, #87CEEB 0%, #98D8E8 100%);
            overflow: hidden; min-height: 200px;
        }
        .cloud { position: absolute; background: white; border-radius: 100px; opacity: 0.8; animation: float 20s infinite linear; }
        @keyframes float { from { transform: translateX(-200px); } to { transform: translateX(calc(100% + 200px)); } }

        .grass {
            position: absolute; bottom: 0; width: 100%; height: 40px;
            background: repeating-linear-gradient(45deg, #7cb342 0px, #7cb342 20px, #558b2f 20px, #558b2f 40px);
            z-index: 2; border-top: 4px solid #33691e;
        }
        
        #character {
            position: absolute; bottom: 35px; left: 5%; font-size: 80px; z-index: 15;
            filter: drop-shadow(5px 5px 5px rgba(0,0,0,0.3)); transform: scaleX(-1);
            transition: left 1s cubic-bezier(0.25, 0.1, 0.25, 1);
            text-align: center;
            width: 100px; 
            margin-left: -50px; 
        }
        .running { animation: run-bob 0.6s infinite alternate; }
        @keyframes run-bob { 0% { transform: scaleX(-1) translateY(0); } 100% { transform: scaleX(-1) translateY(-10px); } }

        .jump-anim-smooth { animation: jump 0.8s linear; }
        @keyframes jump { 0% { transform: scaleX(-1) translateY(0); } 50% { transform: scaleX(-1) translateY(-150px); } 100% { transform: scaleX(-1) translateY(0); } }

        .wrong-anim { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% { transform: scaleX(-1) translateX(0); } 25% { transform: scaleX(-1) translateX(-10px); } 75% { transform: scaleX(-1) translateX(10px); } }

        /* --- STYLE V∆Ø∆†NG MI·ªÜN --- */
        .crown-overlay {
            position: absolute;
            top: -55px; 
            left: 50%;
            transform: translateX(-50%) rotate(0deg); 
            font-size: 50px;
            animation: crown-bounce 1s infinite alternate ease-in-out;
            z-index: 100; 
            filter: drop-shadow(0 0 15px gold);
            width: 100%;
            text-align: center;
        }
        @keyframes crown-bounce {
            from { transform: translateX(-50%) translateY(0) rotate(-5deg); }
            to { transform: translateX(-50%) translateY(-15px) rotate(5deg); }
        }

        #castle { position: absolute; bottom: 35px; right: 1%; font-size: 90px; z-index: 5; }
        .milestone { position: absolute; bottom: 50px; font-size: 30px; z-index: 4; opacity: 0.8; }
        
        /* --- QUIZ AREA --- */
        .quiz-area {
            height: 50%; background: #34495e; color: white; padding: 10px;
            display: flex; flex-direction: column; align-items: center;
            border-top: 5px solid #f39c12; overflow-y: auto;
        }
        .stats {
            font-size: 1em; font-weight: bold; background: #e67e22;
            padding: 5px 15px; border-radius: 15px; margin-bottom: 10px;
        }
        .question-text {
            font-size: 1.1em; text-align: center; background: white; color: #2c3e50;
            padding: 10px; border-radius: 10px; margin-bottom: 10px; width: 100%; max-width: 800px;
            font-weight: bold; border: 3px solid #2980b9;
        }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; width: 100%; max-width: 800px; }
        .btn {
            background: #ecf0f1; color: #2c3e50; border: 1px solid #bdc3c7;
            padding: 15px 5px; border-radius: 8px; font-weight: bold; cursor: pointer;
            min-height: 50px; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 3px 0 #95a5a6;
        }
        .btn:active { transform: translateY(3px); box-shadow: none; }
        .next-btn {
            display: none; margin-top: 15px; padding: 10px 30px; background: #d35400;
            color: white; border: none; border-radius: 30px; font-weight: bold;
            box-shadow: 0 4px 0 #a04000; margin-bottom: 30px;
        }

        /* --- END SCREEN & LEADERBOARD --- */
        #end-screen {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2); z-index: 10000;
            flex-direction: column; align-items: center; padding: 20px; overflow-y: auto;
        }
        .final-leaderboard {
            background: rgba(255, 255, 255, 0.95); width: 100%; max-width: 400px;
            border-radius: 15px; padding: 15px; margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .lb-title {
            text-align: center; font-weight: bold; color: #d35400; font-size: 1.2em;
            border-bottom: 2px solid #f39c12; padding-bottom: 10px; margin-bottom: 10px;
        }
        .lb-item {
            display: flex; justify-content: space-between; padding: 10px;
            margin-bottom: 5px; background: #f1f2f6; border-radius: 8px; align-items: center; color: #333;
        }
        .lb-item.top-1 { background: #ffeaa7; border: 2px solid #fdcb6e; }
        .lb-item.top-2 { background: #dfe6e9; border: 2px solid #b2bec3; }
        .lb-item.top-3 { background: #fab1a0; border: 2px solid #e17055; }
        .lb-item.me { border-left: 5px solid #2ecc71; background: #eaffea; font-weight: bold; }
        .lb-rank { font-weight: bold; width: 30px; }
        .lb-name { flex: 1; text-align: left; padding: 0 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .lb-score { font-weight: bold; color: #27ae60; }
        
        .reset-data {
            font-size: 10px; color: rgba(255,255,255,0.5); text-decoration: underline; 
            margin-top: 20px; cursor: pointer; border: none; background: none;
        }

        code { background: #eee; color: #c0392b; padding: 2px 4px; border-radius: 4px; font-size: 0.9em; }

        @media (max-width: 768px) {
            #character { font-size: 60px; bottom: 30px; width: 80px; margin-left: -40px; }
            #castle { font-size: 70px; bottom: 30px; }
            .milestone { font-size: 25px; bottom: 45px; }
            .options-grid { grid-template-columns: 1fr; }
            .btn { text-align: left; justify-content: flex-start; padding-left: 15px; font-size: 0.95em; }
            .crown-overlay { top: -45px; font-size: 40px; }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div id="login-screen">
   <div class="login-card">
    <h1 class="login-title" id="game-title">H√ÄNH TR√åNH TRI TH·ª®C</h1>
    <p style="margin-bottom: 20px; color: #7f8c8d;">S·∫µn s√†ng chinh ph·ª•c 10 c√¢u h·ªèi?</p>
    <input type="text" id="player-name-input" class="input-name" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" maxlength="15"> 
    <button class="btn-start" id="start-btn">B·∫ÆT ƒê·∫¶U NGAY</button>
   </div>
  </div>

  <div id="game-wrapper">
   <div class="stage-area" id="stage">
    <div class="cloud" style="top: 15%; font-size: 60px; animation-duration: 40s;">‚òÅÔ∏è</div>
    <div class="cloud" style="top: 5%; font-size: 50px; animation-duration: 28s; left: 30%;">‚òÅÔ∏è</div>
    
    <div class="milestone" style="left: 13%;">üçÑ</div>
    <div class="milestone" style="left: 21%;">ü•ö</div>
    <div class="milestone" style="left: 29%;">üê§</div>
    <div class="milestone" style="left: 37%;">üçî</div>
    <div class="milestone" style="left: 45%;">üö≤</div>
    <div class="milestone" style="left: 53%;">üéÆ</div>
    <div class="milestone" style="left: 61%;">üé∏</div>
    <div class="milestone" style="left: 69%;">üõ∏</div>
    <div class="milestone" style="left: 77%;">üíé</div>
    <div class="milestone" style="left: 85%;">üóùÔ∏è</div>
    
    <div id="character" class="running">üèÉ</div>
    <div id="castle">üè∞</div>
    <div class="grass"></div>
   </div>

   <div class="quiz-area">
    <div class="stats">
     üë§ <span id="display-name">...</span> | ƒêI·ªÇM: <span id="score">0</span>
    </div>
    <div class="question-text" id="question-text">Loading...</div>
    <div class="options-grid" id="options-area"></div>
    <button id="next-btn" class="next-btn" onclick="handleNextQuestion()">TI·∫æP THEO</button>
   </div>
  </div>

  <div id="end-screen">
   <div style="font-size: 60px; margin-top: 20px;">üèÜ</div>
   <h2 style="color: white; margin: 10px;">K·∫æT QU·∫¢</h2>
   <div style="background: rgba(255,255,255,0.2); padding: 10px 40px; border-radius: 15px; border: 2px solid white;">
    <h1 style="color: #2ecc71; font-size: 3em; margin: 0; text-shadow: 2px 2px 0 #000;" id="final-score">0</h1>
    <p style="color: white; margin: 0;">ƒêI·ªÇM</p>
   </div>

   <div class="final-leaderboard">
    <div class="lb-title">B·∫¢NG X·∫æP H·∫†NG (Top 10)</div>
    <div id="final-leaderboard-list"></div>
   </div>

   <div style="display: flex; gap: 15px; width: 100%; max-width: 300px; margin-bottom: 10px;">
    <button onclick="replayGame()" style="flex: 1; padding: 15px; background: #2ecc71; color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer;">CH∆†I L·∫†I</button>
    <button onclick="exitGame()" style="flex: 1; padding: 15px; background: #e74c3c; color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer;">THO√ÅT</button>
   </div>
   <button onclick="clearAllData()" class="reset-data">X√≥a l·ªãch s·ª≠ x·∫øp h·∫°ng</button>
  </div>

  <script>
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const STORAGE_KEY = 'python_game_leaderboard_v1';

        function getSavedLeaderboard() {
            const data = localStorage.getItem(STORAGE_KEY);
            return data ? JSON.parse(data) : [];
        }

        function saveToLeaderboard(playerData) {
            let currentList = getSavedLeaderboard();
            currentList.push(playerData);
            currentList.sort((a, b) => b.score - a.score);
            if (currentList.length > 50) currentList = currentList.slice(0, 50);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(currentList));
            return currentList;
        }

        function clearAllData() {
            if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a to√†n b·ªô b·∫£ng x·∫øp h·∫°ng tr√™n m√°y n√†y kh√¥ng?")) {
                localStorage.removeItem(STORAGE_KEY);
                alert("ƒê√£ x√≥a! H√£y ch∆°i l·∫°i.");
                location.reload();
            }
        }

        const questions = [
            { q: "C√¢u 1: L·ªánh n√†o th√™m ph·∫ßn t·ª≠ v√†o cu·ªëi danh s√°ch?", a: [ { t: "list.add(x)", c: false }, { t: "list.append(x)", c: true }, { t: "list.insert(x)", c: false }, { t: "list.push(x)", c: false } ] },
            { q: "C√¢u 2: X√≥a t·∫•t c·∫£ ph·∫ßn t·ª≠ trong danh s√°ch A?", a: [ { t: "A.clear()", c: true }, { t: "A.remove_all()", c: false }, { t: "del A[:]", c: false }, { t: "A.clean()", c: false } ] },
            { q: "C√¢u 3: Ch√®n x v√†o v·ªã tr√≠ k trong A?", a: [ { t: "A.insert(x, k)", c: false }, { t: "A.add(k, x)", c: false }, { t: "A.put(k, x)", c: false }, { t: "A.insert(k, x)", c: true } ] },
            { q: "C√¢u 4: To√°n t·ª≠ <code>in</code> d√πng ƒë·ªÉ l√†m g√¨?", a: [ { t: "Ki·ªÉm tra t·ªìn t·∫°i c·ªßa ph·∫ßn t·ª≠ trong danh s√°ch", c: true }, { t: "Th√™m ph·∫ßn t·ª≠ v√†o danh s√°ch", c: false }, { t: "Duy·ªát v√≤ng l·∫∑p", c: false }, { t: "X√≥a ph·∫ßn t·ª≠ kh·ªèi danh s√°ch", c: false } ] },
            { q: "C√¢u 5: L·ªánh <code>remove(x)</code> x√≥a c√°i g√¨?", a: [ { t: "Ph·∫ßn t·ª≠ t·∫°i index x", c: false }, { t: "Ph·∫ßn t·ª≠ cu·ªëi c√πng", c: false }, { t: "Ph·∫ßn t·ª≠ ƒë·∫ßu c√≥ gi√° tr·ªã x", c: true }, { t: "T·∫•t c·∫£ ph·∫ßn t·ª≠ x", c: false } ] },
            { q: "C√¢u 6: <code>A=[1,5,1]</code>. <code>A.remove(1)</code> ra g√¨?", a: [ { t: "[5, 1]", c: true }, { t: "[5]", c: false }, { t: "[1, 5]", c: false }, { t: "L·ªói", c: false } ] },
            { q: "C√¢u 7: <code>d=[2,6]</code>. <code>d.insert(1, 10)</code> ra g√¨?", a: [ { t: "[2, 6, 10]", c: false }, { t: "[2, 10, 6]", c: true }, { t: "[10, 2, 6]", c: false }, { t: "[2, 6]", c: false } ] },
            { q: "C√¢u 8: <code>A=[10,20]</code>. <code>if 20 in A: A.remove(20)</code>. Len(A)?", a: [ { t: "2", c: false }, { t: "1", c: true }, { t: "0", c: false }, { t: "L·ªói", c: false } ] },
            { q: "C√¢u 9: <code>A=[]</code>. <code>append(5)</code>, <code>clear()</code>. A l√†?", a: [ { t: "[5]", c: false }, { t: "None", c: false }, { t: "[]", c: true }, { t: "[0]", c: false } ] },
            { q: "C√¢u 10: Thay 'Mai' trong <code>h=['Lan','Mai']</code> b·∫±ng 'ƒê√†o'?", a: [ { t: "h.replace()", c: false }, { t: "h[1] = 'ƒê√†o'", c: true }, { t: "h[0] = 'ƒê√†o'", c: false }, { t: "h.add('ƒê√†o')", c: false } ] }
        ];

        let currentIdx = 0; score = 0; playerName = ""; currentPos = 5;
        let sessionID = Date.now().toString(); 

        const char = document.getElementById('character'); 
        const qText = document.getElementById('question-text');
        const optArea = document.getElementById('options-area'); 
        const scoreDisplay = document.getElementById('score');
        const nextBtn = document.getElementById('next-btn');

        async function enterGame() {
            const inputName = document.getElementById('player-name-input').value;
            if (inputName.trim() === "") { alert("Vui l√≤ng nh·∫≠p t√™n!"); return; }
            if (audioCtx.state === 'suspended') { await audioCtx.resume(); }

            playerName = inputName;
            document.getElementById('display-name').innerText = playerName;
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('game-wrapper').style.display = 'flex';
            document.getElementById('game-wrapper').classList.add('active');
            loadQuestion();
        }

        function createFireworks(x, y) {
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                document.body.appendChild(particle);
                const colors = ['#e74c3c', '#f1c40f', '#2ecc71', '#3498db', 'gold'];
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.left = x + 'px'; particle.style.top = y + 'px';
                const angle = Math.random() * Math.PI * 2;
                const velocity = 80 + Math.random() * 100;
                particle.style.setProperty('--tx', `${Math.cos(angle) * velocity}px`);
                particle.style.setProperty('--ty', `${Math.sin(angle) * velocity}px`);
                setTimeout(() => particle.remove(), 800);
            }
        }
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') { audioCtx.resume(); }
            const osc = audioCtx.createOscillator(); 
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            if (type === 'correct') {
                osc.type = 'sine'; osc.frequency.setValueAtTime(600, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                gain.gain.setValueAtTime(0.3, audioCtx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                osc.start(); osc.stop(audioCtx.currentTime + 0.5);
            } else {
                osc.type = 'sawtooth'; osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gain.gain.setValueAtTime(0.3, audioCtx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start(); osc.stop(audioCtx.currentTime + 0.3);
            }
        }

        function loadQuestion() {
            if (currentIdx >= questions.length) { finishGame(); return; }
            const q = questions[currentIdx];
            qText.innerHTML = q.q;
            optArea.innerHTML = '';
            nextBtn.style.display = 'none';

            q.a.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'btn';
                btn.innerHTML = opt.t;
                btn.onclick = () => checkAnswer(idx);
                optArea.appendChild(btn);
            });
        }

        async function checkAnswer(selected) {
            const q = questions[currentIdx];
            const allBtns = optArea.querySelectorAll('.btn');
            const btnClicked = allBtns[selected];
            allBtns.forEach(b => b.disabled = true);

            if (q.a[selected].c) {
                playSound('correct');
                btnClicked.style.backgroundColor = "#2ecc71"; btnClicked.style.color = "white";
                score += 10;
                
                // --- ƒê√ÇY L√Ä PH·∫¶N THAY ƒê·ªîI: HI·ªÇN TH·ªä V∆Ø∆†NG MI·ªÜN NGAY L·∫¨P T·ª®C ---
                if(score === 100) {
                     char.innerHTML = 'ü§¥<div class="crown-overlay">üëë</div>';
                }
                
                char.classList.remove('running'); char.classList.add('jump-anim-smooth');
                setTimeout(() => { char.classList.remove('jump-anim-smooth'); char.classList.add('running'); }, 800);
                currentPos += 8.3; char.style.left = currentPos + "%";
                createFireworks(window.innerWidth / 2, 150);
            } else {
                playSound('wrong');
                btnClicked.style.backgroundColor = "#e74c3c"; btnClicked.style.color = "white";
                char.classList.remove('running'); char.classList.add('wrong-anim'); char.innerText = "üòµ";
                setTimeout(() => { char.classList.remove('wrong-anim'); char.classList.add('running'); char.innerText = "üèÉ"; }, 500);
                q.a.forEach((opt, idx) => { if(opt.c) { allBtns[idx].style.backgroundColor = "#2ecc71"; allBtns[idx].style.color = "white"; } });
            }

            scoreDisplay.textContent = score;
            nextBtn.style.display = "block";
            nextBtn.innerText = (currentIdx === questions.length - 1) ? "XEM K·∫æT QU·∫¢" : "TI·∫æP THEO";
        }

        function handleNextQuestion() { 
            if (currentIdx === questions.length - 1) { finishGame(); } 
            else { currentIdx++; loadQuestion(); }
        }

        function finishGame() {
            const resultData = { id: sessionID, name: playerName, score: score, date: new Date().toLocaleTimeString() };
            const leaderboardList = saveToLeaderboard(resultData);

            document.getElementById('end-screen').style.display = 'flex';
            document.getElementById('final-score').innerText = score;
            
            // Logic hi·ªÉn th·ªã l·∫°i nh√¢n v·∫≠t cho ch·∫Øc ch·∫Øn khi chuy·ªÉn m√†n h√¨nh
            if(score === 100) { 
                char.style.left = "88%"; 
                char.innerHTML = 'ü§¥<div class="crown-overlay">üëë</div>';
                char.classList.add('jump-anim-smooth'); 
            } else if (score >= 80) {
                 char.style.left = "88%"; 
                 char.innerHTML = "ü§¥"; 
                 char.classList.add('jump-anim-smooth');
            }

            createFireworks(window.innerWidth/2, window.innerHeight/2);

            const listDiv = document.getElementById('final-leaderboard-list');
            listDiv.innerHTML = '';
            const top10 = leaderboardList.slice(0, 10);

            top10.forEach((p, index) => {
                const item = document.createElement('div');
                item.className = 'lb-item';
                if (index === 0) item.classList.add('top-1');
                if (index === 1) item.classList.add('top-2');
                if (index === 2) item.classList.add('top-3');
                if (p.id === sessionID) item.classList.add('me'); 

                let icon = `#${index + 1}`;
                if (index === 0) icon = 'ü•á'; if (index === 1) icon = 'ü•à'; if (index === 2) icon = 'ü•â';

                item.innerHTML = `
                    <div class="lb-rank">${icon}</div>
                    <div class="lb-name">${p.name} <small style="color:#777; font-size:0.8em">(${p.date})</small></div>
                    <div class="lb-score">${p.score}</div>
                `;
                listDiv.appendChild(item);
            });
        }

        function replayGame() {
            score = 0; currentIdx = 0; currentPos = 5; scoreDisplay.innerText = 0;
            char.style.left = "5%"; 
            char.innerHTML = "üèÉ"; 
            char.classList.remove('jump-anim-smooth', 'wrong-anim'); char.classList.add('running');
            document.getElementById('end-screen').style.display = 'none';
            sessionID = Date.now().toString();
            document.getElementById('login-screen').style.display = 'flex';
            document.getElementById('game-wrapper').style.display = 'none';
        }

        function exitGame() { location.reload(); }
        document.getElementById('start-btn').onclick = enterGame;
    </script>
 </body>
</html>
